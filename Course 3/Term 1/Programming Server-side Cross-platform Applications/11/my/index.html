<!DOCTYPE html>
<html>

<head>
    <title>API Handler</title>
    <script>
        function getAPI() {
            fetch('/api/pulpits')
                .then(response => response.json())
                .then(data => {
                    console.log(data);
                    document.getElementById('result').textContent = JSON.stringify(data, null, 2);
                })
                .catch((error) => {
                    console.error('Error:', error);
                });
        }

        function postAPI() {
            const PULPIT = document.getElementById('postPULPIT').value;
            const PULPIT_NAME = document.getElementById('postPULPIT_NAME').value;
            const FACULTY = document.getElementById('postFACULTY').value;

            const body = { PULPIT, PULPIT_NAME, FACULTY };

            fetch('/api/pulpits', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',

                },
                body: JSON.stringify(body),
            })
                .then(response => response.json())
                .then(data => {
                    console.log(data);
                    document.getElementById('result').textContent = JSON.stringify({ "DML": "INSERT", ...body, ...data }, null, 2)
                })
                .catch((error) => {
                    console.error('Error:', error);
                });
        }

        function putAPI() {
            const PULPIT = document.getElementById('putPULPIT').value;
            const PULPIT_NAME = document.getElementById('putPULPIT_NAME').value;
            const FACULTY = document.getElementById('putFACULTY').value;

            const body = { PULPIT, PULPIT_NAME, FACULTY };

            fetch('/api/pulpits', {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(body),
            })
                .then(response => response.json())
                .then(data => {
                    console.log(data);
                    document.getElementById('result').textContent = JSON.stringify({ "DML": "UPDATE", ...body, ...data }, null, 2);
                })
                .catch((error) => {
                    console.error('Error:', error);
                });
        }

        function deleteAPI() {
            const id = document.getElementById('deleteID').value;

            fetch(`/api/pulpits/${id}`, {
                method: 'DELETE',
            })
                .then(response => response.json())
                .then(data => {
                    console.log(data);
                    document.getElementById('result').textContent = JSON.stringify({ "DML": "DELETE", ...{ "id": id }, ...data }, null, 2);
                })
                .catch((error) => {
                    console.error('Error:', error);
                });
        }
    </script>
</head>

<body>
    <button onclick="getAPI()">GET</button>

    <h2>POST</h2>
    <input id="postPULPIT" placeholder="PULPIT">
    <input id="postPULPIT_NAME" placeholder="PULPIT_NAME">
    <input id="postFACULTY" placeholder="FACULTY">
    <button onclick="postAPI()">POST</button>

    <h2>PUT</h2>
    <input id="putPULPIT" placeholder="PULPIT">
    <input id="putPULPIT_NAME" placeholder="PULPIT_NAME">
    <input id="putFACULTY" placeholder="FACULTY">
    <button onclick="putAPI()">PUT</button>

    <h2>DELETE</h2>
    <input id="deleteID" placeholder="ID">
    <button onclick="deleteAPI()">DELETE</button>

    <h2>Result:</h2>
    <pre id="result"></pre>
</body>

</html>